clear;clc;close all
Fs = 8192;
a = 1;
b = 1/2;
c = 1/4;
d = 1/8;
e = 1/16;
f = 1/32;
c3 = 3/8;%表示有·
d3 = 3/16;%表示有·
e3 = 3/32;%表示有·
d4 = 1/12;
e5 = 5/16;
d5 = 5/12;
c1 = 1/6;
c2 = 2/6;
B = 'B';A = 'A';C='C';
% tone: 取哪个音节;rythm: 节拍数; keynote_change:升降调8度; keynote_type:当前基调; up_down:音节升降
tone1 = [4,1,7,1,5,1,7  5,2,7,1,5,1,7   6,3,7,1,5,1,7  3,7,7,1,5,1,7,5,...
    4,1,7,5,1,5,1,7   5,1,7,5,1,5,1,7   6,1,7,5,1,5,1,7,1  5,0];tone2=[6,7,1,2,...
    3,2,3,6,5,6   3,2,1  2,5,5,0   1,1,2  3,2,3,6,5,6   3,1,7,...
    5,2,3   6,0,6];   tone3=[3,3,3,3,2,1   2,3,6   2,2,2,2,1,7   7,1,7,5,6,...
    3,3,3,3,2,1  2,3,5  2,6,5,3   2,0,6   3,3,3,3,2,1   2,3,6,...
    2,2,2,2,1,7   7,1,7,5,6   3,3,3,3,2,1   2,3,5   2,7,1,7   6,...
    0,2,3,5   3,2,3,5   3,2,3,5   7,7,1,7   6,2,3,5   3,2,3,5,...
    3,2,3,5  7,7,1,7   6,0,6,7];   tone4=[1,7,6,5,3,6   5,2,3,6,7,...
    1,7,6,5,3,6   5,7,6,6,7  1,7,6,5,3,6   5,2,3,3   2,3,5,3   2,3,5,3,...
    2,3,5,1,7,5,   6,0];    tone5=[6,7,1,2   3,2,3,6,5,6   3,3,2,1   2,5,5   1,1,2....
    3,2,3,6,5,6   3,1,7   5,2,3   6,6];     tone6=[0,3,2,5   3,0,6,1   7,5,2   3,...
    3,2,5   3,0,6,1   2,7,5   6,0,6,7];
    tone7=[6   3,3,3,3,2,1   2,3,6   2,2,2   1];
rythm1 = [d,e,d,e,d,d,d  d,e,d,e,d,d,d   d,e,d,e,d,d,d  d,e,d,e,d,d,e,e,...
    d,e,e,e,e,d,d,d   d,e,e,e,e, d,d,d   d,e,e,e,e, d,d,e,e,   c3,d];rythm2=[e,e,e,e,...
    c,e,e,c,e,e   c3+d,d,d  c,d,c3-f,f   c,d,c+e  c,e,e,c,e,e   c3+d,e,e,...
    c3+c,e,e   (c3+c-f),0,d];   rythm3=[d,d,d,d,d3,e    c3,c,d   d,d,d,d,d,d   d3,e,d,c,d,...
    d,d,d,d,d3,e  c3,c,d  c3,d,d,d   c3,c,d   d,d,d,d,d3,e   c3,c,d,...
    d,d,d,d,d,d   d3,e,d,c,d   d,d,d,d,d3,e   c3,c,d   c3,d,d,d   c3*2,...
    c3,d,d,d   c3,d,d,d   c3,d,d,d   c3,d,d,d   c3,d,d,d   c3,d,d,d,...
    c3,d,d,d  c3,d,d,d   c3,c,e,e];   rythm4 = [d3,e,d,d,d,d   c,d,c,e,e,...
    d3,e,d,d,d,d   c,d,c,e,e  d3,e,d,d,d,d   c,d,c,d   d,d,d,c3   d,d,d,c3,...
    d,d,d,d,d,d,   c3*2+e,d];rythm5 = [e,e,e,e   c,e,e,c,e,e   c3,d,d,d   c,d,c3   c3,d,c....
    c,e,e,c,e,e   c3,d,d   c3+c,e,e  c3+c,d];  rythm6=[d,c3,c,d   c3,d,d,d   c3,c,d   c3+c3,...
    c3,c,d   c3,d,d,d   c3,c,d   c3,c,e,e];
    rythm7=[d  d,d,d,d,d3,e   c3,c,d   c3,c,d   c3+c3];
keynote_change1= [-1,0,0,1,1,1,0  -1,0,0,1,1,1,0   -1,0,0,1,1,1,0  -1,-1,0,1,1,1,0,0,...
    -1,2,1,1,1, 1,1,0   -1,2,1,1,1, 1,1,0   -1,2,1,1,1, 1,1,1,2   2,0];keynote_change2=[-1,-1,0,0,...
    0,0,0,0,0,0   0,0,0  0,-1,0,0   0,0,0  0,0,0,0,0,0   0,1,0,...
    0,0,0   -1,0,-1];   keynote_change3=[0,0,0, 0,0,0    0,0,-1   0,0,0,0,0,-1    -1,0,-1,-1,-1,...
    0,0,0,0,0,0  0,0,0    0,0,0,0   0,0,-1   0,0,0,0,0,0   0,0,-1,...
    0,0,0,0,0,-1   -1,0,-1,-1,-1   0,0,0,0,0,0   0,0,0   0,0,1,0   0,...
    0,0,0,0    0,0,0,0   0,0,0,0   -1,-1,0,-1   -1,0,0,0   0,0,0,0,...
    0,0,0,0  0,0,1,0   0,0,0,0];   keynote_change4=[1,0,0,0,0,0   0,0,0,0,0,...
    1,0,0,0,0,0   0,0,0,0,0  1,0,0,0,0,0   0,0,0,0   0,0,0,0   0,0,0,0,...
    0,0,0,1,0,0,   0,0];    keynote_change5=[-1,-1,0,0   0,0,0,0,0,0   0,0,0,0   0,-1,0   0,0,0,....
    0,0,0,0,0,0   0,1,0,   0,0,0,  -1,-1];      keynote_change6=[0,0,0,0   0,0,0,1   0,0,0   0,...
    0,0,0,   0,0,0,1   1,0,0   0,0,0,0];
    keynote_change7=[-1  0,0,0,0,0,0,   0,0,-1,   0,0,0   0];
len1 = length(tone1);len2 = length(tone2);len3 = length(tone3);len4 = length(tone4);len5 = length(tone5);
len6 = length(tone6);len7 = length(tone7);
up_down1=zeros(len1);up_down2=zeros(len2);up_down3=zeros(len3);up_down4=zeros(len4);up_down5=zeros(len5);
up_down6=zeros(len6);up_down7=zeros(len7);
keynote_type1= tone1;keynote_type2= tone2;keynote_type3= tone3;keynote_type4= tone4;keynote_type5= tone5;
keynote_type6= tone6;keynote_type7= tone7;
keynote_type1(:)=B;keynote_type2(:)=B;keynote_type3(:)=B;keynote_type4(:)=B;keynote_type5(:)=B;
keynote_type6(:)=B;keynote_type7(:)=B;
y1 = [];y2=[];y3=[];y4=[];y5=[];y6=[];y7=[];
for i = 1:1:len1
    y1 = [y1, get_wave(tone1(i), rythm1(i), keynote_change1(i), keynote_type1(i), up_down1(i),1)];
end
for i = 1:1:len2
    y2 = [y2, get_wave(tone2(i), rythm2(i), keynote_change2(i), keynote_type2(i), up_down2(i),2)];
end
for i = 1:1:len3
    y3 = [y3, get_wave(tone3(i), rythm3(i), keynote_change3(i), keynote_type3(i), up_down3(i),2)];
end
for i = 1:1:len4
    y4 = [y4, get_wave(tone4(i), rythm4(i), keynote_change4(i), keynote_type4(i), up_down4(i),2)];
end
for i = 1:1:len5
    y5 = [y5, get_wave(tone5(i), rythm5(i), keynote_change5(i), keynote_type5(i), up_down5(i),2)];
end
for i = 1:1:len6
    y6 = [y6, get_wave(tone6(i), rythm6(i), keynote_change6(i), keynote_type6(i), up_down6(i),2)];
end
for i = 1:1:len7
    y7 = [y7, get_wave(tone7(i), rythm7(i), keynote_change7(i), keynote_type7(i), up_down7(i),2)];
end
y=[y1,y2,y3,y4,y5,y3,y4,y6,y4,y7];
plot(y)
sound(y,Fs)